import json
import glob
from datetime import datetime
from os import closerange
import operator

companyList = []
hitlist = []
finalList = {}
f = open(
    "data/ffcac2fd75cf6b12ac82c923bebd108cca27d9dab2ce3a2f1aff5d520c21974b.json",
)
data = json.load(f)
for i in data["scans"]:
    companyList.append(i)
f.close()
src = "data/"
files = glob.glob("data/*", recursive=True)
for company in companyList:
  hit=0
  for single_file in files:
     with open(single_file, "r") as f:
            json_file = json.load(f)
            if company in json_file["scans"]:
                for i in json_file["scans"][company]:
                    if i == "detected":
                        if json_file["scans"][company][i] == 1:
                            hit = hit + 1
                        else:
                          break
  finalList[company]=hit

sortdict = sorted(finalList.items(),key=lambda t:t[1],reverse=True)
print(sortdict)
